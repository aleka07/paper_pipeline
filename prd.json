{
    "project": "Paper Pipeline Web Interface",
    "branchName": "ralph/paper-pipeline-web",
    "description": "Full-featured local network web interface for the Paper Pipeline system, enabling researchers to upload PDFs, manage categories, control processing, and view/export extracted JSON data.",
    "userStories": [
        {
            "id": "US-001",
            "title": "Flask Backend Setup",
            "description": "As a developer, I need a Flask backend that serves the web application and exposes API endpoints for the pipeline.",
            "acceptanceCriteria": [
                "Create `backend/app.py` with Flask application setup",
                "Configure CORS for local network access",
                "Application binds to 0.0.0.0:5000 for LAN accessibility",
                "Health check endpoint at /api/health returns {\"status\": \"ok\"}",
                "Typecheck passes"
            ],
            "priority": 1,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-002",
            "title": "Category API Endpoints",
            "description": "As a user, I want API endpoints to list, create, and delete categories so I can organize my papers.",
            "acceptanceCriteria": [
                "GET /api/categories returns list of categories with file counts and status summary",
                "POST /api/categories creates a new category folder in data/input/",
                "DELETE /api/categories/<name> removes empty category folder",
                "Returns proper HTTP status codes (200, 201, 400, 404)",
                "Typecheck passes"
            ],
            "priority": 2,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-003",
            "title": "File Upload API",
            "description": "As a user, I want to upload PDF files to a specific category via API.",
            "acceptanceCriteria": [
                "POST /api/categories/<name>/upload accepts multipart file upload",
                "Validates file is PDF (checks extension and MIME type)",
                "Saves file to data/input/<category>/ with original filename",
                "Returns uploaded file info with generated ID",
                "Handles duplicate filenames (appends number if exists)",
                "Typecheck passes"
            ],
            "priority": 3,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-004",
            "title": "File Listing API with Status",
            "description": "As a user, I want to see all files in a category with their processing status.",
            "acceptanceCriteria": [
                "GET /api/categories/<name>/files returns list of files",
                "Each file includes: filename, id, status (pending/markdown/completed/failed)",
                "Status derived from existence of .md and .json output files",
                "Includes file size and upload date",
                "Typecheck passes"
            ],
            "priority": 4,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-005",
            "title": "Processing Trigger API",
            "description": "As a user, I want to trigger processing of files via API.",
            "acceptanceCriteria": [
                "POST /api/process/file/<file_id> triggers full pipeline for single file",
                "POST /api/process/category/<name> triggers processing for all pending files in category",
                "POST /api/process/all triggers processing for all pending files",
                "Processing runs in background thread (non-blocking)",
                "Returns job ID for status tracking",
                "Typecheck passes"
            ],
            "priority": 5,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-006",
            "title": "Processing Status API",
            "description": "As a user, I want to check the current processing status and queue.",
            "acceptanceCriteria": [
                "GET /api/status returns current processing state",
                "Shows: currently processing file, queue length, phase (1 or 2)",
                "Shows if processing is idle, running, or paused",
                "Typecheck passes"
            ],
            "priority": 6,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-007",
            "title": "Processing Control API (Pause/Resume/Cancel)",
            "description": "As a user, I want to control the processing pipeline.",
            "acceptanceCriteria": [
                "POST /api/process/pause pauses processing after current file",
                "POST /api/process/resume resumes paused processing",
                "POST /api/process/cancel stops processing and clears queue",
                "State changes reflected in /api/status",
                "Typecheck passes"
            ],
            "priority": 7,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-008",
            "title": "Results API (JSON Output)",
            "description": "As a user, I want to retrieve the extracted JSON results.",
            "acceptanceCriteria": [
                "GET /api/results/<file_id> returns parsed JSON content",
                "GET /api/results/<file_id>/raw returns raw JSON file content",
                "Returns 404 if file not yet processed",
                "Typecheck passes"
            ],
            "priority": 8,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-009",
            "title": "File Delete and Reprocess API",
            "description": "As a user, I want to delete files or trigger reprocessing.",
            "acceptanceCriteria": [
                "DELETE /api/files/<file_id> removes PDF and all associated outputs (md, json)",
                "POST /api/files/<file_id>/reprocess clears outputs and queues for processing",
                "Confirms deletion with file info in response",
                "Typecheck passes"
            ],
            "priority": 9,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-010",
            "title": "Search and Filter API",
            "description": "As a user, I want to search across processed papers.",
            "acceptanceCriteria": [
                "GET /api/search?q=<query> searches across JSON results",
                "Searches title, authors, keywords, summary fields",
                "Returns matching files with relevance snippets",
                "Supports filter by category: ?category=<name>",
                "Typecheck passes"
            ],
            "priority": 10,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-011",
            "title": "Batch Export API",
            "description": "As a user, I want to export multiple results.",
            "acceptanceCriteria": [
                "GET /api/export/category/<name> exports all JSONs in category as zip",
                "GET /api/export/all exports all processed JSONs as zip",
                "Includes original PDFs if ?include_pdf=true",
                "Typecheck passes"
            ],
            "priority": 11,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-012",
            "title": "Frontend HTML Structure",
            "description": "As a user, I want a clean web interface layout.",
            "acceptanceCriteria": [
                "Create frontend/index.html with semantic HTML structure",
                "Header with app title and global actions (process all, settings)",
                "Sidebar for category navigation",
                "Main content area for file list and results",
                "Responsive layout works on desktop and tablet",
                "Verify in browser using browser tool"
            ],
            "priority": 12,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-013",
            "title": "Frontend Styling (CSS Design System)",
            "description": "As a user, I want a modern, visually appealing interface.",
            "acceptanceCriteria": [
                "Create frontend/styles.css with CSS custom properties for theming",
                "Dark mode design with vibrant accent colors",
                "Smooth hover effects and transitions on interactive elements",
                "Status badge styling: green (completed), yellow (markdown), blue (pending), red (failed)",
                "Glassmorphism effects on panels",
                "Verify in browser using browser tool"
            ],
            "priority": 13,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-014",
            "title": "Category Sidebar Component",
            "description": "As a user, I want to navigate between categories in the sidebar.",
            "acceptanceCriteria": [
                "Sidebar lists all categories from API",
                "Each category shows name and file count badge",
                "Clicking category loads its files in main area",
                "Add Category button opens modal to create new category",
                "Selected category visually highlighted",
                "Verify in browser using browser tool"
            ],
            "priority": 14,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-015",
            "title": "File List Component",
            "description": "As a user, I want to see files in the selected category.",
            "acceptanceCriteria": [
                "Main area shows grid/list of files for selected category",
                "Each file card shows: filename, status badge, file size",
                "Status badges use colors: green (done), yellow (md only), blue (pending)",
                "Click file card to view details/results",
                "Verify in browser using browser tool"
            ],
            "priority": 15,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-016",
            "title": "File Upload UI",
            "description": "As a user, I want to upload PDFs through a drag-and-drop interface.",
            "acceptanceCriteria": [
                "Upload zone accepts drag-and-drop of PDF files",
                "Click to open file picker as alternative",
                "Shows upload progress indicator",
                "Validates PDF files before upload",
                "New files appear in list after successful upload",
                "Verify in browser using browser tool"
            ],
            "priority": 16,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-017",
            "title": "Processing Controls UI",
            "description": "As a user, I want buttons to control processing.",
            "acceptanceCriteria": [
                "Process Selected button for selected files",
                "Process Category button in category header",
                "Process All button in global header",
                "Pause/Resume toggle button when processing active",
                "Cancel button to stop and clear queue",
                "Verify in browser using browser tool"
            ],
            "priority": 17,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-018",
            "title": "Processing Status Display",
            "description": "As a user, I want to see current processing status.",
            "acceptanceCriteria": [
                "Status bar shows: current file being processed, queue count",
                "Status updates via polling (every 2 seconds)",
                "Shows Idle when nothing is processing",
                "Shows Paused state distinctly",
                "Verify in browser using browser tool"
            ],
            "priority": 18,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-019",
            "title": "Results Viewer Panel",
            "description": "As a user, I want to view extracted JSON data in a readable format.",
            "acceptanceCriteria": [
                "Clicking a completed file shows results panel",
                "Displays metadata (title, authors, year, venue)",
                "Shows summary, methodology, and key findings sections",
                "Keywords displayed as tags",
                "Copy JSON button and download button",
                "Verify in browser using browser tool"
            ],
            "priority": 19,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-020",
            "title": "Search Interface",
            "description": "As a user, I want to search across all processed papers.",
            "acceptanceCriteria": [
                "Search input in header with instant search (debounced 300ms)",
                "Results show matching papers with highlighted snippets",
                "Click result navigates to that file's results view",
                "Empty state when no matches",
                "Verify in browser using browser tool"
            ],
            "priority": 20,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-021",
            "title": "File Context Menu (Actions)",
            "description": "As a user, I want quick actions on files.",
            "acceptanceCriteria": [
                "Right-click or menu button on file card shows context menu",
                "Options: View, Process, Reprocess, Download JSON, Download PDF, Delete",
                "Delete shows confirmation dialog",
                "Actions trigger appropriate API calls",
                "Verify in browser using browser tool"
            ],
            "priority": 21,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-022",
            "title": "Batch Selection and Actions",
            "description": "As a user, I want to select multiple files for batch operations.",
            "acceptanceCriteria": [
                "Checkbox on each file card for multi-select",
                "Select All checkbox in list header",
                "Batch action bar appears when files selected",
                "Batch options: Process Selected, Delete Selected, Export Selected",
                "Verify in browser using browser tool"
            ],
            "priority": 22,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-023",
            "title": "Category Export UI",
            "description": "As a user, I want to export all results from a category.",
            "acceptanceCriteria": [
                "Export button in category header",
                "Option to include original PDFs or JSON only",
                "Downloads zip file with results",
                "Verify in browser using browser tool"
            ],
            "priority": 23,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-024",
            "title": "Connection and Error Handling",
            "description": "As a user, I want clear feedback when something goes wrong.",
            "acceptanceCriteria": [
                "Toast notifications for success/error/warning states",
                "Server Disconnected banner when API unreachable",
                "Retry button on failed operations",
                "Loading spinners during API calls",
                "Verify in browser using browser tool"
            ],
            "priority": 24,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-025",
            "title": "Empty States and Onboarding",
            "description": "As a new user, I want helpful guidance when starting.",
            "acceptanceCriteria": [
                "Empty state for no categories: Create your first category",
                "Empty state for empty category: Drop PDFs here to get started",
                "Empty state for search: No papers match your search",
                "Quick start tips on first visit",
                "Verify in browser using browser tool"
            ],
            "priority": 25,
            "passes": false,
            "notes": ""
        }
    ]
}